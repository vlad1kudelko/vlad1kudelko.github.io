---
title: "Автоматизация поиска уязвимостей в CI/CD с помощью AI-агентов"
description: "Подробный разбор архитектуры Strix: как группа AI-агентов находит SQL-инъекции, IDOR и логические ошибки, создавая реальные Proof-of-Concept без ложных срабатываний."
heroImage: "../../../../assets/imgs/2025/11/09-usestrix-strix.webp"
pubDate: "2025-11-09"
github: "https://github.com/usestrix/strix"
---

# Пентест на автопилоте: разбираем open-source фреймворк Strix для поиска и валидации уязвимостей

Если вы когда-нибудь настраивали SAST (статический анализ кода) в крупном проекте, то знаете боль «тысячи алертов». Разработчики ненавидят их за огромное количество **false positives**, а ИБ-специалисты — за то, что статика не видит логических дыр. DAST-сканеры (динамический анализ) работают чуть лучше, но они «глупые»: просто перебирают параметры по словарю, не понимая контекста приложения.

В итоге компании тратят недели на ручной пентест. **Strix** — это попытка изменить правила игры. Это не просто сканер, а команда автономных AI-агентов, которые ведут себя как реальные исследователи: они запускают ваш код, изучают API, пробуют разные векторы атак и — что самое важное — **самостоятельно пишут PoC (Proof of Concept)**, чтобы доказать реальность уязвимости.

## Как это устроено под капотом

Архитектура Strix базируется на концепции **Graph of Agents** (Граф Агентов). Вместо одной большой и неповоротливой языковой модели, проект использует группу специализированных агентов, каждый из которых владеет своим набором навыков.

**Почему это работает:**

* **Изоляция:** Все проверки запускаются в Docker-контейнерах. Это позволяет агентам безопасно выполнять Python-скрипты для эксплойтов или манипулировать браузером через Playwright.
* **Инструментарий «белой шляпы»:** Агенты имеют доступ к HTTP-прокси (на базе идей Caido/Burp), терминалу и инструментам разведки (OSINT).
* **Мультимодальность:** Использование библиотек вроде `LiteLLM` позволяет подключать любые топовые модели (GPT-4o, Claude 3.5 Sonnet, Gemini Pro) или локальные Llama/Mistral через Ollama.
* **Валидация уязвимостей:** В отличие от классических сканеров, Strix не просто говорит «тут может быть SQLi», он пытается извлечь версию БД или текущего пользователя, чтобы подтвердить находку.

## От теории к практике

Развернуть Strix локально можно буквально за пару минут. Вам понадобятся Docker и API-ключ вашего любимого LLM-провайдера.

**1. Установка через официальный скрипт или pipx:**

```bash
curl -sSL https://strix.ai/install | bash
# или
pipx install strix-agent
```

**2. Настройка окружения:** Укажите модель, которую хотите использовать (рекомендуется GPT-4o или Claude Sonnet для сложных задач):

```bash
export STRIX_LLM="openai/gpt-4o"
export LLM_API_KEY="sk-your-key-here"
```

**3. Запуск первого сканирования:** Вы можете натравить Strix как на локальную папку с кодом, так и на живой URL:

```bash
strix --target https://test-php-app.com --instruction "Проверь формы авторизации на SQL-инъекции"
```

*Примечание: При первом запуске Strix скачает Docker-образ песочницы, это может занять время.*

## Примеры использования

### Сценарий 1: Проверка логики в CI/CD

Вы можете интегрировать Strix в GitHub Actions. Он будет «простукивать» каждый Pull Request на предмет критических багов перед тем, как код попадет в мастер.

```yaml
- name: Run Strix Security Scan
  run: strix -n -t ./ --scan-mode quick
  env:
    STRIX_LLM: ${{ secrets.STRIX_LLM }}
    LLM_API_KEY: ${{ secrets.LLM_API_KEY }}
```

### Сценарий 2: Поиск IDOR и проблем с авторизацией

Обычные сканеры плохо справляются с IDOR (Insecure Direct Object Reference). Strix можно дать конкретную инструкцию:

```bash
strix --target https://api.myapp.com \
      --instruction "Попробуй получить доступ к данным пользователя B, используя токен пользователя A"
```

Агент проанализирует структуру API, поймет, где передаются ID, и попытается подменить их, имитируя действия атакующего.

## Что дальше?

Strix — это open-source проект, который активно растет. В планах разработчиков — расширение базы знаний о специфических уязвимостях (например, атаки на AI-инфраструктуру) и улучшение координации между агентами для покрытия гигантских монолитов.

**Как помочь проекту?**
Если вы занимаетесь AppSec или разработкой, загляните в репозиторий. Вы можете добавить новые «скиллы» для агентов (например, интеграцию с новыми сканерами) или просто поставить звезду ⭐, если идея автономного пентеста вам близка.
